!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c||(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,b,b.document)}:a(jQuery,window,document)}(function(a,b,c,d){"use strict";var e=function(d){this.checkEmpty=function(b,c,d){var f=!0;return e=this,a.each(d,function(b,d){var g=a(b),h=g.val(),i=g.is(":checkbox")?"click":"keypress";h=g.is(":checkbox")?g.is(":checked"):""!=h&&null!=h&&"null"!=h&&h.length,h||(f=!1,e.processError({placeErrorTo:[b],message:g.data("message")||e.errorMessages.notBeEmpty,errorKey:c}),g.on(i,function(){e.removeErrorElements([b],c,"animation-on"),g.off(i)}))}),f},this.checkEmail=function(c,d,e){var f,g,h=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=a(e).val(),j=/\@|\.|\-|\_/;if(b.event?g=c.keyCode:c.which&&(g=c.which),"paste"==c.type){for(var k=c.target.value,l="",m=0;m<k.length;m++){var g=k.charCodeAt(m);(g>64&&91>g||123>g&&g>96||g>47&&58>g||j.test(k[m]))&&(l+=k[m])}return c.target.value=l,!0}switch(f=String.fromCharCode(g),g){case null:case 8:case 9:case 32:break;default:if(g>64&&91>g||123>g&&g>96||g>47&&58>g||j.test(f))break;return!1}return h.test(i)&&""!=i&&null!=i?this.removeErrorElements([e],d,"animation-on"):this.processError({placeErrorTo:[e],message:a(e).data("message")||this.errorMessages.email,errorKey:d}),!0},this.checkIfSame=function(b,c,d,e){var f=a(d).val(),g=a(e).val();return f.length&&g.length&&(f!=g?this.processError({placeErrorTo:[d,e],message:a(d).data("message")||this.errorMessages.mustBeSame,errorKey:c}):this.removeErrorElements([d,e],c,"animation-on")),!0},this.compareDateWithDate=function(b,c,d,e){var f,g=a(d),h=new Date(g.val()),i=[d];e.checkInput&&(e.date=new Date(a(e.otherElement).val()),i[1]=e.otherElement);var j=Math.floor(e.date.getDate()-h.getDate());if(!isNaN(j)){var k=Math.floor(e.date.getMonth()-h.getMonth()),l=Math.floor(e.date.getFullYear()-h.getFullYear());k+=j/30,l+=k/12,e.limitation?e.limitation.limitEnd>l?l<e.limitation.limitStart&&(f=e.limitation.message?e.limitation.message.limitStart:"pleaseChooseLaterDate"):f=e.limitation.message?e.limitation.message.limitEnd:"pleaseChooseEarlierDate":(0>l||l>0)&&(f=e.message||"datesMustBeSame"),f?this.processError({placeErrorTo:i,message:f,errorKey:c}):this.removeErrorElements(i,c,"animation-on")}return!0},this.numericCheck=function(a,c,d){var e;if(b.event?e=a.keyCode:a.which&&(e=a.which),"paste"==a.type){for(var f=a.target.value,g="",h=0;h<f.length;h++){var e=f.charCodeAt(h);e>47&&58>e&&(g+=f[h])}return a.target.value=g,!0}switch(e){case 8:return!0;default:if(48>e||e>57)return!1}return!0},this.characterCheck=function(c,d,e){var f,g={231:!0,305:!0,287:!0,286:!0,199:!0,304:!0,252:!0,220:!0,350:!0,351:!0,214:!0,246:!0};if("paste"==c.type){for(var h=a(c.target).val(),i="",j=0;j<h.length;j++){var f=h.charCodeAt(j);(f>64&&91>f||123>f&&f>96||g[f])&&(i+=h[j])}c.target.value=i}switch(b.event?f=c.keyCode:c.which&&(f=c.which),f){case null:case 8:case 9:case 32:return!0;default:if(f>64&&91>f||123>f&&f>96||g[f])return!0}return!1},this.controlValidationStatus=function(b,c,d){for(var f=Object.keys(d),g=0;g<f.length;g++)if(a(f[g]).is("."+e.classNames.errorSelfClass))return!1;return!0},this.processError=function(b){for(var d=0;d<b.placeErrorTo.length;d++){var f=c.createElement("div"),g=a(b.placeErrorTo[d]);g.parent().children("[data-ue="+b.errorKey+"]").length||(g.addClass(e.classNames.errorSelfClass).removeClass(e.classNames.successSelfClass),g.parent().children("[data-ue="+b.errorKey+"]").remove(),f.className=this.classNames.errorDivClass,f.innerHTML=b.message,f.dataset.ue=b.errorKey,g[0].parentNode.insertBefore(f,g[0].nextSibling),f.style.height=f.offsetHeight,this.processErrorAnimation("add",{elementUK:b.placeErrorTo[d],errorKey:b.errorKey,message:b.message}))}},this.removeErrorElements=function(b,c,d){var e=this;if("object"==typeof b)return a.each(b,function(a,b){e.removeErrorElements(b,c,d)}),!0;var f=a(b),g=f.parent().children("[data-ue="+c+"]");if(!f.is("."+e.classNames.successSelfClass)&&g.length)switch(d){case"animation-off":f.removeClass(e.classNames.errorSelfClass),g.remove();break;case"animation-on":f.addClass(e.classNames.successSelfClass),setTimeout(function(){f.parent().children("."+e.classNames.errorDivClass).length>1?(f.removeClass(e.classNames.successSelfClass),g.remove()):setTimeout(function(){f.removeClass(e.classNames.errorSelfClass),setTimeout(function(){f.removeClass(e.classNames.successSelfClass)},1e3),g.remove()},900)},100);break;case"only-remove":g.remove()}e.processErrorAnimation("remove",{elementUK:b,errorKey:c})},this.processErrorAnimation=function(b,c){var d=this,e="data-parent='"+c.elementUK.split("=")[1].replace("]","")+"'";switch(b){case"add":if(!a("[data-errorid="+c.errorKey+"]["+e+"]").length){var f=a(c.elementUK),g="<div data-errorid='"+c.errorKey+"' "+e+" class='"+d.classNames.bottomEachErrorClass+"' onclick=\"$('html,body').stop().animate({scrollTop:"+f.offset().top+"});$('"+c.elementUK+"').focus();\" >"+c.message+"</div>";d.processErrorAnimation("process",{errorHTML:g,elementUK:c.elementUK})}break;case"remove":a("[data-errorid='"+c.errorKey+"']["+e+"]").remove(),a("[data-errorid]").length||(a("."+d.classNames.bottomPageErrorClass+" .inside,."+d.classNames.topPageErrorClass).addClass("remove"),setTimeout(function(){a("."+d.classNames.bottomPageErrorClass,"."+d.classNames.topPageErrorClass).remove()},1200));break;case"process":var h=a("."+d.classNames.bottomPageErrorClass);!h.length||1==h.length&&h.children(".remove").length?(a("body").prepend("<div class='"+d.classNames.topPageErrorClass+"'>"+this.errorMessages.pageError+"</div>"),a("body").prepend("<div style='left:"+a(c.elementUK).offset().left+"px' class='"+d.classNames.bottomPageErrorClass+"'><div class='inside'><div class='inner'><div class='"+d.classNames.errorHeadingClass+"'> "+d.errorMessages.pageError+"</div>"+c.errorHTML+"</div><div class='close'></div></div></div>"),a("."+d.classNames.bottomPageErrorClass+" .close").on("click",function(){var b=a(this).parents("."+d.classNames.bottomPageErrorClass);b.children(".inside").addClass("remove"),a("."+d.classNames.topPageErrorClass).addClass("remove"),setTimeout(function(){b.remove(),a("."+d.classNames.topPageErrorClass).remove()},1200)})):a("."+d.classNames.bottomPageErrorClass+" .inside .inner").append(c.errorHTML)}},this.createUniqueKey=function(b){if(b&&!a(b).data("ue")){this.uniqueKey+=1,a(b).attr("data-ue",this.uniqueKey);var c={};c[this.uniqueKey]=!0,this.uniqueElementTable=a.extend(this.uniqueElementTable,c)}else{if(b)return a(b).data("ue");this.uniqueKey+=1}return this.uniqueKey},this.defineValidationHandlers=function(b,d,f){a.each(d,function(c,d){b[b.length]={event:a(c).data("event")||"click",element:c,"function":"checkEmpty",parameters:["event",e.createUniqueKey(),d]},f[c]&&(b[b.length-1].control=f[c],delete f[c])}),a.each(f,function(c,d){b[b.length]={event:a(c).data("event")||"click",element:c,"function":"controlValidationStatus",parameters:["event",e.createUniqueKey(),d]}}),a.each(b,function(b,d){var f=a(d.element),g=f.attr("on"+d.event);g&&f.data("on"+d.event,new Function(g)).attr("on"+d.event,null),a(c).on(d.event,d.element,function(b){var c=!0;return d.parameters[0]=b,d.control&&(c=e.controlValidationStatus("","",d.control)),e[d["function"]].apply(e,d.parameters)?c&&g&&a(this).data("on"+d.event)():c=!1,c}),d.handlePaste&&a(c).on("paste",d.element,function(a){return setTimeout(function(){e[d["function"]](a)},50),!0})})};var e=this;e.uniqueKey=parseInt((new Date).getTime()+"000");var f=[],g={},h={};if(d){if(this.is("form")){var i="[data-ue="+e.createUniqueKey(this.find(":submit"))+"]";a.each(d,function(b,c){switch(b){case"empty":a.each(c,function(b,c){var d="[data-ue="+e.createUniqueKey(b)+"]",f={};f[d]=!0,g[i]=a.extend(g[i],f),c.message&&a(d).data("message",c.message)});break;case"email":a.each(c,function(b,c){var d="[data-ue="+e.createUniqueKey(b)+"]";f[f.length]={event:c.eventType||"keypress",element:d,"function":"checkEmail",parameters:["event",e.createUniqueKey(),d],handlePaste:!0},c.message&&a(d).data("message",c.message)});break;case"same":a.each(c,function(b,c){for(var d="[data-ue="+e.createUniqueKey(b)+"]",g="[data-ue="+e.createUniqueKey(a(c.other))+"]",h=e.createUniqueKey(),i=0;2>i;i++){var j=i?d:g;f[f.length]={event:c.eventType||"keyup",element:j,"function":"checkIfSame",parameters:["event",h,d,g]}}c.message&&a(d).data("message",c.message)});break;case"date":a.each(c,function(b,c){var d,g=c.other,h="[data-ue="+e.createUniqueKey(b)+"]",i=e.createUniqueKey(),j={},k=1;c.limitation&&(j.limitation=c.limitation),g.length?(d="[data-ue="+e.createUniqueKey(g)+"]",j.checkInput=!0,j.otherElement=d,k=2):(j.checkInput=!1,j.date=a(element).data("date")?new Date(a(element).data("date")):new Date);for(var l=0;k>l;l++){var m=l?d:h;f[f.length]={event:c.eventType||"change",element:m,"function":"compareDateWithDate",parameters:["event",i,h,j]}}c.message&&a(h).data("message",c.message)});break;case"numeric":a.each(c,function(b,c){var d="[data-ue="+e.createUniqueKey(b)+"]";f[f.length]={event:c.eventType||"keypress",element:d,"function":"numericCheck",parameters:["event",e.createUniqueKey(),d],handlePaste:!0},c.message&&a(d).data("message",c.message)});break;case"character":a.each(c,function(b,c){var d="[data-ue="+e.createUniqueKey(b)+"]";f[f.length]={event:c.eventType||"keypress",element:d,"function":"characterCheck",parameters:["event",e.createUniqueKey(),d],handlePaste:!0},c.message&&a(d).data("message",c.message)});break;case"control":a.each(c,function(b,c){var d={},f="[data-ue="+e.createUniqueKey(b)+"]";d[f]=!0,h[i]=a.extend(h[i],d)})}})}}else a(this).find("[data-validation]").each(function(b,c){for(var d=a(c).data("validation").split(","),i=c.dataset.eventtype,b=0;b<d.length;b++)switch(d[b]){case"empty":var j="[data-ue="+e.createUniqueKey(a(a(c).data("target")))+"]",k="[data-ue="+e.createUniqueKey(c)+"]",l={};l[k]=!0,g[j]=a.extend(g[j],l),a(c).removeAttr("data-target");break;case"email":var k="[data-ue="+e.createUniqueKey(c)+"]";f[f.length]={event:i||"keypress",element:k,"function":"checkEmail",parameters:["event",e.createUniqueKey(),k],handlePaste:!0};break;case"same":for(var m=a(a(c).data("with")),k="[data-ue="+e.createUniqueKey(c)+"]",n="[data-ue="+e.createUniqueKey(m)+"]",o=e.createUniqueKey(),p=0;2>p;p++){var q=p?k:n;f[f.length]={event:i||"keyup",element:q,"function":"checkIfSame",parameters:["event",o,k,n]}}a(c).removeAttr("data-with");break;case"date":var n,m=a(a(c).data("with")),k="[data-ue="+e.createUniqueKey(c)+"]",o=e.createUniqueKey(),r={},s=1;a(c).data("limitation")&&(r.limitation=a(c).data("limitation"),a(c).removeAttr("data-limitation")),m.length?(n="[data-ue="+e.createUniqueKey(m)+"]",r.checkInput=!0,r.otherElement=n,s=2,a(c).removeAttr("data-with")):(r.checkInput=!1,r.date=a(c).data("date")?new Date(a(c).data("date")):new Date);for(var p=0;s>p;p++){var q=p?n:k;f[f.length]={event:i||"change",element:q,"function":"compareDateWithDate",parameters:["event",o,k,r]}}break;case"numeric":var k="[data-ue="+e.createUniqueKey(c)+"]";f[f.length]={event:i||"keypress",element:k,"function":"numericCheck",parameters:["event",e.createUniqueKey(),k],handlePaste:!0};break;case"character":var k="[data-ue="+e.createUniqueKey(c)+"]";f[f.length]={event:i||"keypress",element:k,"function":"characterCheck",parameters:["event",e.createUniqueKey(),k],handlePaste:!0}}if(a(c).data("control")){var j="[data-ue="+e.createUniqueKey(a(a(c).data("control")))+"]",l={};l[k]=!0,h[j]=a.extend(h[j],l),a(c).removeAttr("data-control")}a(c).removeAttr("data-validation")});this.defineValidationHandlers(f,g,h),this.classNames={errorDivClass:"input-error",errorSelfClass:"input__error",hasError:"has__error",errorCheckbox:"e__checkbox",errorRadio:"e__radio",errorGeneral:"general",errorWithPadding:"with__padding",errorSuccess:"error__success",successSelfClass:"input__success",errorHeadingClass:"error__heading",bottomPageErrorClass:"page__error__bottom",bottomEachErrorClass:"each__error",topPageErrorClass:"page__error__top"},this.errorMessages={notBeEmpty:" can not be empty!",pageError:"Please check errors.",mustBeSame:"These inputs must have same values!",datesMustBeSame:"Dates must be same!",email:"Please type a correct email adress!"}};a.fn.validation=e});